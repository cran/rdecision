<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Andrew J. Sims" />


<title>A directed graph puzzle (Bodycombe 2020)</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">A directed graph puzzle (Bodycombe 2020)</h1>
<h3 class="subtitle">Burger run</h3>
<h4 class="author">Andrew J. Sims</h4>
<h4 class="date">18th June 2020</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This puzzle was published in <em>New Scientist</em> in June 2020<span class="citation"><sup>1</sup></span>. It is a practical example of a problem in graph theory. This vignette explains how the puzzle can be solved with <code>redecison</code>.</p>
</div>
<div id="the-puzzle" class="section level1">
<h1>The puzzle</h1>
<p>Three friends agree to drive from A to B via the shortest road possible (driving down or right at all times). They are hungry, so also want to drive through a Big Burger restaurant, marked in red. They are arguing about how many shortest routes will pass through exactly one Big Burger. Xenia: &quot;I reckon there are 10.&quot; Yolanda: &quot;I'd say more like 20.&quot; Zara: &quot;No you're both wrong, I bet there are more than 50.&quot; Who is right, or closest to right?</p>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="constructing-the-graph" class="section level1">
<h1>Constructing the graph</h1>
<p>The grid has 25 nodes and 40 edges (20 horizontal and 20 vertical). These form a directed graph because it is allowed to drive down or right only. Seven of the edges are defined as &quot;Big Burger&quot; edges. Because it is not possible to find a path from any node which revisits that node, the graph is acyclic (a directed acyclic graph, DAG).</p>
<p>Although it possible to construct the graph by creating 25 node objects explicitly, it is more compact to create a list of vertices in a loop construct. Indices <span class="math inline">\(i = [1 .. 5]\)</span> and <span class="math inline">\(j = [1 .. 5]\)</span> are used to identify grid intersections in the vertical and horizontal directions respectively. Each node is labelled as <span class="math inline">\(N_{i,j}\)</span> and the index of node <span class="math inline">\(N_{i,j}\)</span> in the list is <span class="math inline">\(5(i-1)+j\)</span>.</p>
<p>Similarly, the 40 edges (arrows) are constructed more compactly in a list, with horizontal edges being labelled <span class="math inline">\(H_{i,j}\)</span> (the horizontal edge joining node <span class="math inline">\(N_{i,j}\)</span> to node <span class="math inline">\(N_{i,j+1}\)</span>) and the vertical edges similarly as <span class="math inline">\(V_{i,j}\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create vertices</span>
V &lt;-<span class="st"> </span><span class="kw">list</span>()
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
    V &lt;-<span class="st"> </span><span class="kw">c</span>(V, Node<span class="op">$</span><span class="kw">new</span>(<span class="kw">paste</span>(<span class="st">&quot;N&quot;</span>,i,j,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)))
  }
}
<span class="co"># create edges</span>
E &lt;-<span class="st"> </span><span class="kw">list</span>()
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
    E &lt;-<span class="st"> </span><span class="kw">c</span>(E, Arrow<span class="op">$</span><span class="kw">new</span>(V[[<span class="dv">5</span><span class="op">*</span>(i<span class="op">-</span><span class="dv">1</span>)<span class="op">+</span>j]], V[[<span class="dv">5</span><span class="op">*</span>(i<span class="op">-</span><span class="dv">1</span>)<span class="op">+</span>j<span class="op">+</span><span class="dv">1</span>]], <span class="kw">paste</span>(<span class="st">&quot;H&quot;</span>,i,j,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)))
  }
} 
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
    E &lt;-<span class="st"> </span><span class="kw">c</span>(E, Arrow<span class="op">$</span><span class="kw">new</span>(V[[<span class="dv">5</span><span class="op">*</span>(i<span class="op">-</span><span class="dv">1</span>)<span class="op">+</span>j]], V[[<span class="dv">5</span><span class="op">*</span>i<span class="op">+</span>j]], <span class="kw">paste</span>(<span class="st">&quot;V&quot;</span>,i,j,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)))
  }
} 
<span class="co"># create graph</span>
G &lt;-<span class="st"> </span>Digraph<span class="op">$</span><span class="kw">new</span>(V,E)</code></pre></div>
</div>
<div id="finding-the-paths" class="section level1">
<h1>Finding the paths</h1>
<p>Method <code>paths</code> finds all possible paths between any two nodes, where a <em>path</em> is defined as a sequence of distinct and adjacent nodes. Because the restaurants are specific edges, each path is converted to a <em>walk</em>, which is a path defined as sequence of connected, non-repeating edges.</p>
<p>In this case, the number of restaurants traversed by each path is counted by comparing the label associated with each edge in each path with the labels of the edges which contain a restaurant.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get all paths from A to B</span>
A &lt;-<span class="st"> </span>V[[<span class="dv">1</span>]]
B &lt;-<span class="st"> </span>V[[<span class="dv">25</span>]]
P &lt;-<span class="st"> </span>G<span class="op">$</span><span class="kw">paths</span>(A,B)
<span class="co"># convert paths to walks</span>
W &lt;-<span class="st"> </span><span class="kw">lapply</span>(P,<span class="cf">function</span>(p){G<span class="op">$</span><span class="kw">walk</span>(p)})
<span class="co"># count and tabulate how many special edges each walk traverses</span>
BB &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;V11&quot;</span>, <span class="st">&quot;H22&quot;</span>, <span class="st">&quot;V25&quot;</span>, <span class="st">&quot;H33&quot;</span>, <span class="st">&quot;V32&quot;</span>, <span class="st">&quot;H44&quot;</span>, <span class="st">&quot;V43&quot;</span>)
nw &lt;-<span class="st"> </span><span class="kw">sapply</span>(W, <span class="cf">function</span>(w) {
  lv &lt;-<span class="st"> </span><span class="kw">sapply</span>(w, <span class="cf">function</span>(e) {e<span class="op">$</span><span class="kw">label</span>() <span class="op">%in%</span><span class="st"> </span>BB}) 
  <span class="kw">return</span>(<span class="kw">sum</span>(lv))
})
<span class="co"># tabulate </span>
ct &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">table</span>(nw))</code></pre></div>
</div>
<div id="solution-found-by-rdecision" class="section level1">
<h1>Solution found by <code>rdecision</code></h1>
<p>The number of paths which pass through exactly one Big Burger is 23. In total there are 70 paths from A to B, with the number of restaurants <span class="math inline">\(n\)</span>, traversed by each path as follows:</p>
<table>
<thead>
<tr class="header">
<th align="left">n</th>
<th align="right">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">23</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="provided-solution" class="section level1">
<h1>Provided solution</h1>
<p>Yolanda's estimate is closest - there are 23 shortest routes from A to B that pass through exactly one Big Burger. One way to solve this kind of puzzle is to systematically work from A and keep track of how many ways there are of reaching each point. With this problem, you should keep a separate count of how many ways there are of reaching each point after (a) zero or (b) one Big Burger visits. For line segments that contain a Big Burger, (b) becomes equal to (a) then becomes equal to 0 with the old value for (b) effectively discarded.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-bodycombe2020">
<p>1 Bodycombe D. Burger run. <em>New Scientist</em> 2020;<strong>246</strong>:54.</p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
